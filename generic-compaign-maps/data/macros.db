{"name":"Word of Decay","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Word of Decay\");","author":"bXZTiwFeS5CbU1Bf","img":"modules/plutonium/media/icon/spell/xge-word-of-radiance.jpg","actorIds":[],"_id":"1sqT5QS3ExIEgc7g"}
{"name":"Toll the Dead","permission":{"default":0,"LDlMueNLD6KxnpXy":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Toll the Dead\");","author":"LDlMueNLD6KxnpXy","img":"modules/plutonium/media/icon/spell/xge-toll-the-dead.jpg","actorIds":[],"_id":"4EEjZwr9n7ukUnTN"}
{"name":"Fire Bolt","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Fire Bolt\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-fire-bolt.jpg","actorIds":[],"_id":"7Cl2gCe8Pglvlo4u"}
{"name":"Morningstar","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Morningstar\");","author":"bXZTiwFeS5CbU1Bf","img":"systems/dnd5e/icons/items/weapons/morningstar.jpg","actorIds":[],"_id":"89eCKMqqMyWDA2Tc"}
{"name":"Magic Missile","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Magic Missile\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-magic-missile.jpg","actorIds":[],"_id":"8CQ9AIhZ9HAtaDbs"}
{"name":"Breath Weapon","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Breath Weapon\");","author":"qGyfymsukNfswCPn","img":"systems/dnd5e/icons/skills/affliction_14.jpg","actorIds":[],"_id":"AYTXf2vjOTl9kROx"}
{"name":"Scimitar","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Scimitar\");","author":"bXZTiwFeS5CbU1Bf","img":"systems/dnd5e/icons/items/weapons/sword-curved.jpg","actorIds":[],"_id":"HZe5jqIJVLzLVadg"}
{"name":"Second Wind","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Second Wind\");","author":"qGyfymsukNfswCPn","img":"systems/dnd5e/icons/skills/blood_04.jpg","actorIds":[],"_id":"KrGXBVQqIzz3qI20"}
{"name":"Scorching Ray","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Scorching Ray\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-scorching-ray.jpg","actorIds":[],"_id":"LDTeP3EyqAecBjEF"}
{"name":"Word of Radiance","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Word of Radiance\");","author":"bXZTiwFeS5CbU1Bf","img":"modules/plutonium/media/icon/spell/xge-word-of-radiance.jpg","actorIds":[],"_id":"LRgMdnT6zFpLfwjz"}
{"name":"Shocking Grasp","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Shocking Grasp\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-shocking-grasp.jpg","actorIds":[],"_id":"MNPNvc95WNjB2Mhz"}
{"name":"Word of Decay","permission":{"default":0,"LDlMueNLD6KxnpXy":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Word of Decay\");","author":"LDlMueNLD6KxnpXy","img":"modules/plutonium/media/icon/spell/xge-word-of-radiance.jpg","actorIds":[],"_id":"P7b9NBoeOy0ti4f7"}
{"name":"Blade Ward","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Blade Ward\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-blade-ward.jpg","actorIds":[],"_id":"Q2RIjHOxF09dzvhG"}
{"name":"Scimitar","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Scimitar\");","author":"bXZTiwFeS5CbU1Bf","img":"systems/dnd5e/icons/items/weapons/sword-curved.jpg","actorIds":[],"_id":"SBLi7DBEDFDhISyd"}
{"name":"Warhammer","permission":{"default":0,"LDlMueNLD6KxnpXy":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Warhammer\");","author":"LDlMueNLD6KxnpXy","img":"systems/dnd5e/icons/items/weapons/warhammer.png","actorIds":[],"_id":"SnS7z8iuk2VlTzzp"}
{"_id":"TXi8tel4OSeubiS4","name":"turn_defeated_into_loot","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"combat-utility-belt":{"macroTrigger":"xuj5sxh4pqkxqa28"},"exportSource":{"world":"lmop-kids","system":"dnd5e","coreVersion":"0.7.9","systemVersion":"1.2.0"}},"scope":"global","command":"(async () => {\n    let defeated = canvas.tokens.placeables.filter(t => {\n        return t.data.disposition === -1 && t.data.actorData.data?.attributes?.hp?.value <= 0\n    });\n\n    for (let token of defeated) {\n        if (token.actor.data.type != 'npc')\n            continue;\n\n        let invalid = await token.getFlag(`world`,`lootyfied`) ? await token.getFlag(`world`,`lootyfied`) : false;\n        if (invalid)\n            continue;\n\n        let newItems = token.actor.data.items.filter(item => {\n            // Weapons are fine, unless they're natural.\n            if (item.type == 'weapon') {\n                return item.data.weaponType != 'natural';\n            }\n            // Equipment's fine, unless it's natural armor.\n            if (item.type == 'equipment') {\n                if (!item.data.armor)\n                    return true;\n                return item.data.armor.type != 'natural';\n            }\n            // Item type blocklist.\n            // Less intuitive than an allowlist,\n            // but permits unknown module items.\n            return !(['class', 'spell', 'feat'].includes(item.type));\n        });\n\n        // Change sheet to lootable, and give players permissions.\n        let newActorData = {\n            'flags': {\n                'core': {\n                    'sheetClass': 'dnd5e.LootSheet5eNPC'\n                },\n                'lootsheetnpc5e': {\n                    'lootsheettype': 'Loot'\n                }\n            },\n            'items': newItems,\n            [`permission.default`]: 2\n        };\n        // Add proper currency info to the new data, if the actor needs it.\n        if (undefined == token.actor.data.data.currency || token.actor.data.data.currency.cp == 0 ) // should be an object, not a number\n        {\n            newActorData['data.currency'] = {\n                'cp': { 'value': null },\n                'ep': { 'value': null },\n                'gp': { 'value': null },\n                'pp': { 'value': null },\n                'sp': { 'value': null }\n            };\n        }\n        await token.actor.update(newActorData);\n        await token.setFlag(`world`,`lootyfied`,true);\n    }\n})();","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","actorIds":[]}
{"name":"Shield of Faith","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Shield of Faith\");","author":"bXZTiwFeS5CbU1Bf","img":"modules/plutonium/media/icon/spell/phb-shield-of-faith.jpg","actorIds":[],"_id":"U8CWM9MEFXDEZvwb"}
{"name":"Shortbow","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Shortbow\");","author":"bXZTiwFeS5CbU1Bf","img":"systems/dnd5e/icons/items/weapons/bow-short.jpg","actorIds":[],"_id":"UzmDOe32MxpWtGP3"}
{"name":"Hex","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Hex\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-hex.jpg","actorIds":[],"_id":"V1a0sBDXGX2GCxvD"}
{"name":"Shocking Grasp","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Shocking Grasp\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-shocking-grasp.jpg","actorIds":[],"_id":"XxIG7FgmUwHrWuix"}
{"name":"Toll the Dead","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Toll the Dead\");","author":"bXZTiwFeS5CbU1Bf","img":"modules/plutonium/media/icon/spell/xge-toll-the-dead.jpg","actorIds":[],"_id":"XzgYNxQrcr6ebDvN"}
{"name":"Shortbow","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Shortbow\");","author":"bXZTiwFeS5CbU1Bf","img":"systems/dnd5e/icons/items/weapons/bow-short.jpg","actorIds":[],"_id":"ZgoFkq8LjQZczz3A"}
{"name":"Warhammer","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Warhammer\");","author":"bXZTiwFeS5CbU1Bf","img":"systems/dnd5e/icons/items/weapons/warhammer.png","actorIds":[],"_id":"ZhfAMaFsFhnSvKNV"}
{"name":"Warding Wind","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Warding Wind\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/xge-warding-wind.jpg","actorIds":[],"_id":"ev0YTXGnXF3ZWnlh"}
{"name":"Shield","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Shield\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-shield.jpg","actorIds":[],"_id":"f4uCA0srXARBC8NW"}
{"name":"Longsword","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Longsword\");","author":"qGyfymsukNfswCPn","img":"systems/dnd5e/icons/items/weapons/sword-long.jpg","actorIds":[],"_id":"ho3uGp6TT7P69HRN"}
{"name":"False Life","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"False Life\");","author":"bXZTiwFeS5CbU1Bf","img":"modules/plutonium/media/icon/spell/phb-false-life.jpg","actorIds":[],"_id":"lDDA8nTgKhs3MiUk"}
{"name":"Hexblade's Curse","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Hexblade's Curse\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/mighty-force.svg","actorIds":[],"_id":"ptBEehBejoL3F5KE"}
{"name":"Eldritch Blast","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Eldritch Blast\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-eldritch-blast.jpg","actorIds":[],"_id":"pyE1QzmrGjJiTVOQ"}
{"name":"Ray of Sickness","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Ray of Sickness\");","author":"bXZTiwFeS5CbU1Bf","img":"modules/plutonium/media/icon/spell/phb-ray-of-sickness.jpg","actorIds":[],"_id":"qmHy4cHauN6qVDks"}
{"_id":"tQ2LrEuyPOWNljhU","name":"Roll Stats In Order","permission":{"default":0,"bXZTiwFeS5CbU1Bf":3},"type":"script","sort":100001,"flags":{},"scope":"global","command":"(()=>{\n  let statString = [`STR`, `DEX`, `CON`, `INT`, `WIS`, `CHA`];\n  let stats = Array(6).fill(0).map(e=>new Roll(`4d6kh3`).roll());\n\n  let content = `\n    <table style=\"text-align:center\">\n      ${stats.map((stat, index)=>{\n        return `<tr><td>${statString[index]}</td><td>${stat.total}</td></tr>`\n      }).join(``)}\n    </table>\n  `;\n  \n  sendMessage({content});  \n})();\n\nasync function sendMessage({ content, whisper = ChatMessage.getWhisperRecipients(\"GM\"), speaker = ChatMessage.getSpeaker() }={})\n{\n  return await ChatMessage.create({ content, whisper, speaker });\n}","author":"bXZTiwFeS5CbU1Bf","img":"icons/svg/dice-target.svg","actorIds":[]}
{"name":"Green-Flame Blade","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Green-Flame Blade\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/scroll-unfurled.svg","actorIds":[],"_id":"w09FrZS9vXyOrExc"}
{"name":"Light","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Light\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-light.jpg","actorIds":[],"_id":"w5QaJztKvGRnWgac"}
{"name":"Shield","permission":{"default":0,"qGyfymsukNfswCPn":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Shield\");","author":"qGyfymsukNfswCPn","img":"modules/plutonium/media/icon/spell/phb-shield.jpg","actorIds":[],"_id":"xzyDJUpLnaDwRKNM"}
{"name":"Longsword","permission":{"default":0,"Q2xpTxFmQueTCiH9":3},"type":"script","sort":100001,"flags":{"dnd5e":{"itemMacro":true}},"scope":"global","command":"game.dnd5e.rollItemMacro(\"Longsword\");","author":"Q2xpTxFmQueTCiH9","img":"systems/dnd5e/icons/items/weapons/sword-long.jpg","actorIds":[],"_id":"W4tLI0eRDKaTutXf"}
