{"name":"Red Figment","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/magic/symbols/rune-sigil-red-orange.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Red Figment\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"0K7KtKnAE9aZ5C39"}
{"_id":"0edtdnpIK7o9AoPh","name":"1d2","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d2","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Bolster","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bolster\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"2V9Y5NWHbVgP0NES"}
{"_id":"2WfvcpZLisA4ArJq","name":"Add Unwilling Goreleech Host","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/creatures/bug-worm-toothed-grey.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Unwilling Goreleech Host\"\nconst blessIconPath = 'icons/environment/creatures/bug-worm-toothed-grey.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"4DRMr3X3JjOKm2GF","name":"Add Savage","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/melee/strike-axe-blood-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Savage\"\nconst blessIconPath = 'icons/skills/melee/strike-axe-blood-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n        {\n            key: \"data.bonuses.mwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n        {\n            key: \"data.bonuses.rwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.msak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.rsak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        }\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"4E6M3EjBDquonDDj","name":"Scimitar","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/swords/sword-katana.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Scimitar\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Bardic Inspiration","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bardic Inspiration\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"4q40XJcsDevvnoDl"}
{"name":"Sacred Flame","type":"script","author":"ilYXIh5K2shABVlO","img":"systems/dnd5e/icons/spells/beam-orange-2.jpg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Sacred Flame\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"6CUcE10wXoAbXW5G"}
{"name":"Heaven's Rest","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/sundries/survival/bedroll-blue-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Heaven's Rest\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"73wqnfZMClL2Jcf3"}
{"_id":"7CwZD2JYQoRYEwAs","name":"Add Minor Poison","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/toxins/symbol-poison-drop-skull-green.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Minor Poison\"\nconst blessIconPath = 'icons/skills/toxins/symbol-poison-drop-skull-green.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n   macroActor.effects.foreach(effect => console.log(effect.data.label));\n}\n\nvar effect = null;\nvar numStacks = 0;\nmacroActor.effects.foreach(effect =>\n//{\n   console.log(effect.data.label)\n/*\n   try\n   {\n      numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0]);\n   }\n   catch (error)\n   {\n      console.log(`${effect.id} not a stackable effect`);\n      continue;\n   }\n   await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id);\n*/\n//}\n);\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"8UgXHb9ooOjr06B3","name":"turn_defeated_into_loot","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"for (let token of canvas.tokens.controlled) {\n    // Don't run this on PC tokens by mistake\n    if (token.actor.data.type === 'character') continue;\n\n    // Remove items that shouldn't be lootable\n    let itemsToDelete = token.actor.items\n      .filter((item) => {\n        // Weapons are fine, unless they're natural.\n        if (item.type == 'weapon') {\n          return item.data.data.weaponType == 'natural';\n        }\n        // Equipment's fine, unless it's natural armor.\n        if (item.type == 'equipment') {\n          return item.data.data.armor.type == 'natural';\n        }\n        // Item type blocklist.\n        return ['class', 'spell', 'feat'].includes(item.type);\n      })\n      .map((item) => item.id);\n\n    await token.document.actor.deleteEmbeddedDocuments('Item', itemsToDelete);\n\n    // Change sheet to lootable, and give players permissions.\n    let newActorData = {\n      flags: {\n        core: {\n          sheetClass: 'dnd5e.LootSheet5eNPC',\n        },\n        lootsheetnpc5e: {\n          lootsheettype: 'Loot',\n        },\n      },\n    };\n\n    let lootingUsers = game.users\n      // Limit selection to Players and Trusted Players\n      .filter((user) => {\n        return user.role >= 1 && user.role <= 2;\n      });\n\n    // This section is a workaround for the fact that the LootSheetNPC module\n    // currently uses an older currency schema, compared to current 5e expectations.\n    // Need to convert the actor's currency data to the LS schema here to avoid\n    // breakage. If there is already currency on the actor, it is retained.\n\n    if (typeof token.actor.data.data.currency.cp === 'number') {\n      let oldCurrencyData = token.actor.data.data.currency;\n      newActorData['data.currency'] = {\n        cp: { value: oldCurrencyData.cp },\n        ep: { value: oldCurrencyData.ep },\n        gp: { value: oldCurrencyData.gp },\n        pp: { value: oldCurrencyData.pp },\n        sp: { value: oldCurrencyData.sp },\n      };\n    }\n\n    await token.document.actor.update(newActorData);\n\n    // Update permissions to level 2, so players can loot\n    let permissions = {};\n    Object.assign(permissions, token.actor.data.permission);\n    lootingUsers.forEach((user) => {\n      permissions[user.data._id] = 2;\n    });\n\n    // If using Combat Utility Belt, need to remove any of its condition overlays\n    // before we can add the chest icon overlay.\n    // if (game.modules.get('combat-utility-belt')?.active) {\n    //   await game.cub.removeAllConditions(token);\n    // }\n\n    await token.document.update({\n      overlayEffect: 'icons/svg/chest.svg',\n      actorData: {\n        actor: {\n          flags: {\n            loot: {\n              playersPermission: 2,\n            },\n          },\n        },\n        permission: permissions,\n      },\n    });\n  }","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":"cjj7qz3ak356ozx8"}}}
{"_id":"8jEaPuiGqC80gNeA","name":"Action Surge","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/skills/social/intimidation-impressing.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Action Surge\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Vengeful Meteor","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/commodities/stone/ore-pile-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Vengeful Meteor\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"BPd6L0uWD55K8Cxe"}
{"_id":"BRfia8DSSTXMRoSt","name":"Chris Pack Leader Increment","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/creatures/abilities/paw-print-orange.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Pack Leader\"\nconst blessIconPath = 'icons/creatures/abilities/paw-print-orange.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"BSUjXhAm5kSuQtuJ","name":"Pause Game","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"game.togglePause(true, true)","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Morningstar","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/maces/mace-round-spiked-black.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Morningstar\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"BsDkD4C5HkHOqEoK"}
{"_id":"CMp839ufud78hW9W","name":"Ominous Moon","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/symbols/chevron-elipse-circle-blue.webp","scope":"global","command":"let actorData = actor || canvas.tokens.controlled[0] || game.user.character;\nconst resources = actorData.data.data.resources.secondary.value;\nconst maxResources = actorData.data.data.resources.secondary.max;\nlet gainedResources = Math.min(1, maxResources - resources);\nawait actorData.update({\"data.resources.secondary.value\": resources + gainedResources});\n\nlet chatContent = ``\nif (gainedResources > 0)\n{\n   chatContent = `Gaining a Stamina for hitting with a melee attack. Thanks [Ominous Moon]!`\n}\nelse\n{\n   chatContent = `[Ominous Moon] Would have gained me a Stamina for hitting with a melee attack, but I'm already at max.`\n}\n\nChatMessage.create({\n    speaker: ChatMessage.getSpeaker(),\n    content: chatContent\n});","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"CrAwGidARgyedCXi","name":"Jagged Shortsword","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/swords/sword-guard-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Jagged Shortsword\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"D0fO2nVc4LLJeU5i","name":"Add Child of the Inferno","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/fire/elemental-fire-humanoid.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Child of the Inferno\"\nconst blessIconPath = 'icons/magic/fire/elemental-fire-humanoid.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"name":"Breath Weapon","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/family-tree.svg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Breath Weapon\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"E2ek4w5y5dSRgoE8"}
{"name":"Sin Eater","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/commodities/gems/gem-rough-cushion-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Sin Eater\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"E3durFDgQBZRWKxA"}
{"_id":"FWAH5SSWJmxYDevH","name":"Fangbone","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/daggers/dagger-simple-stone-guard.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Fangbone\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true},"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Hand of Healing","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/mighty-force.svg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Hand of Healing\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"GQwUEhRBp2OT2bvo"}
{"name":"Age of Fire","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/magic/fire/projectiles-salvo-trio-orange.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Age of Fire\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"GWFsqw93caHrFgbl"}
{"name":"Alpha Ring","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/equipment/finger/ring-eye-silver-green.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Alpha Ring\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"GpkrnwuDDRZj7z0R"}
{"name":"Hoektato","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/creatures/abilities/wolf-heads-swirl-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Hoektato\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"HDDQfyaB525TLeAn"}
{"_id":"IXFWaV07OLg985FK","name":"Unarmed Strike (Monk)","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Unarmed Strike (Monk)\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Ten Teeth Necklace","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/equipment/neck/necklace-runed-white-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Ten Teeth Necklace\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"LqDVECS7DO1vQm9m"}
{"_id":"MTU3YWIxNGEwNWY5","name":"Initiative","permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"type":"chat","sort":0,"flags":{},"scope":"global","command":"Initiative: @{selected|npcd_name}\n/roll 1d20 + @{selected|npcd_dex_mod} &{tracker}","author":"ODY1ZmU3OWIzNzY2","img":"modules/lmop-shared/macros/roll20_macro.png","actorIds":[]}
{"_id":"MzK1KcGC8WNnqoPa","name":"Jagged Shortsword","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/swords/sword-guard-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Jagged Shortsword\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Glowing Branch - Shillelegh","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/weapons/clubs/club-simple-barbed.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Glowing Branch - Shillelegh\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"N1gRKpTHDrhKzWAK"}
{"_id":"RMIWIW22tHZ067ud","name":"Add Eldritch Curse","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/symbols/rune-sigil-black-pink.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Eldritch Curse\"\nconst blessIconPath = 'icons/magic/symbols/rune-sigil-black-pink.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `${-(numStacks+1)}`,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"Scy7Of1fQMxf6Vga","name":"Skeletons Appear","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"const update = game.actors.getName(\"Skeleton\").getActiveTokens().map(t => ({_id: t.id, hidden: false}));\ncanvas.scene.updateEmbeddedDocuments(\"Token\", update);","folder":null,"sort":100001,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"T1sgD3b5GZAMRlA4","name":"Shield","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"modules/plutonium/media/icon/spell/phb-shield.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Shield\"\nconst blessIconPath = 'modules/plutonium/media/icon/spell/phb-shield.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = actor || canvas.tokens.controlled[0] || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\nlet bless = {\n    changes: [\n        {\n            key: \"data.attributes.ac.bonus\",\n            mode: 2,\n            priority: 20,\n            value: \"5\",\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: effectLabel\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n// If already bless\t\nif (Blessd) {\n    await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id)\n// anounce to chat\n\tchatMsg = `${macroActor.name} loses [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// if not already bless\t\nelse {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\t\n// anounce to chat\n\tchatMsg = `${macroActor.name} gains [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// write to chat if needed:\nif (chatMsg !== '') {\n\tlet chatData = {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"TkTj0SiNr5ZIYADs","name":"!custom","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"(async ()=>{\n    console.log(\"starting\");\n    let processed = [];\n    for(let iToken of canvas.tokens.placeables)\n    {\n        if (!iToken.data)\n        {\n            console.log(\"error: no token.data\");\n            continue;\n        }\n        if (!iToken.data.name)\n        {\n            console.log(\"error: no token.data.name\");\n            continue;\n        }\n        if (processed.indexOf(iToken.name) >= 0)\n        {\n            console.log(\"skipping \" + iToken.name);\n            continue;\n        }\n        processed.push(iToken.name)\n        console.log(\"token = \" + iToken.data.name);\n        a = game.actors.getName(iToken.name);\n        if (a == null)\n        {\n            console.log(\"no game actor found for \" + iToken.name);\n            continue;\n        }\n        updateTokensForActorByName(iToken.name);\n    }\n    console.log(\"ending\");\n})();\n\nfunction updateTokensForActorByName(actorName)\n{\n    a = game.actors.getName(actorName);\n    const update = a.getActiveTokens().map(t => {\n        if (t.name == a.data.token.name)\n        {\n            result = Object.assign({}, a.data.token);\n            result._id = t.id;\n        }\n        else\n        {\n            result = {_id : t.id};\n        }\n        return result;\n    });\n    canvas.scene.updateEmbeddedDocuments(\"Token\", update);\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"U3zsWYRxQoJJ9ZJk","name":"Unarmed Strike (Monk)","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Unarmed Strike (Monk)\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"UXu3m86W0POsdbQq","name":"1d10","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d10","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"UiIc82YWKw3WQEeD","name":"1d12","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d12","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"V7fKpo8Lvb2vxZnZ","name":"Shield of the Occustist","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/tech/metal-blue.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Shield of the Occultist\"\nconst blessIconPath = 'icons/commodities/tech/metal-blue.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = actor || canvas.tokens.controlled[0] || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\nlet bless = {\n    changes: [\n        {\n            key: \"data.attributes.ac.bonus\",\n            mode: 2,\n            priority: 20,\n            value: \"4\",\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: effectLabel\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n// If already bless\t\nif (Blessd) {\n    await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id)\n// anounce to chat\n\tchatMsg = `${macroActor.name} loses [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// if not already bless\t\nelse {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\t\n// anounce to chat\n\tchatMsg = `${macroActor.name} gains [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// write to chat if needed:\nif (chatMsg !== '') {\n\tlet chatData = {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3,"lPu8NYjDndzwJQaI":0},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"WPuaCJxpS95Zrl4E","name":"Goblin Scimitar","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/swords/sword-katana.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Goblin Scimitar\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"YbWY1xY0jRozrkTQ","name":"Add Precision","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/ranged/target-bullseye-arrow-glowing.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Precision\"\nconst blessIconPath = 'icons/skills/ranged/target-bullseye-arrow-glowing.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n        {\n            key: \"data.bonuses.mwak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n        {\n            key: \"data.bonuses.rwak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n\t\t{\n            key: \"data.bonuses.msak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n\t\t{\n            key: \"data.bonuses.rsak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        }\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"YjzPOZu0WVwXGe1e","name":"Add Resistant","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/movement/arrow-upward-blue.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Resistant\"\nconst blessIconPath = 'icons/skills/movement/arrow-upward-blue.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `+${numStacks+1}`,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"Yl1EFAdYhxZL9rDz","name":"Club","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/clubs/club-simple-barbed.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Club\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Magic Stone","type":"script","author":"Xc6IxhIt83r1NcBy","img":"modules/plutonium/media/icon/spell/xge-magic-stone.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Magic Stone\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"Yq5bWfUhqMCmC6Zs"}
{"_id":"Z1PVcJrfjEqwC5zZ","name":"Remove Top Bar","permission":{"default":0,"ZjdmMWEyMmE2NzVk":3},"type":"script","folder":null,"sort":100000,"flags":{"combat-utility-belt":{"macroTrigger":""}},"scope":"global","command":"(async ()=>{\r\n   console.log(\"starting\");\r\n   for(let token of canvas.tokens.placeables)\r\n   {\r\n      if (!token.data)\r\n      {\r\n         console.log(\"error: no token.data\");\r\n         continue;\r\n      }\r\n      if (!token.data.name)\r\n      {\r\n         console.log(\"error: no token.data.name\");\r\n         continue;\r\n      }\r\n      console.log(\"token = \" + token.data.name);\r\n      await token.update({ 'bar2.attribute' : 'None' });\r\n      await token.update({ 'bar1.attribute' : 'attributes.hp' });\r\n   }\r\n   console.log(\"ending\");\r\n})();\r\n\r\n","author":"ZjdmMWEyMmE2NzVk","img":"icons/svg/dice-target.svg","actorIds":[]}
{"_id":"Zkyhd4OHoorlpqks","name":"Redbrand Trapped Hallway","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"game.togglePause(true, true)\nlet tile = canvas.scene.data.tiles.get(\"ZTE0NDkyNjlmYWQ1\")\ntile.update({\"hidden\" : false})","folder":null,"sort":100001,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"bwSMRa1q68VKreA1","name":"1d20","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d20","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Lifesplitter","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/creatures/claws/claw-curved-poison-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Lifesplitter\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"cMMSC6KLiWacb6VY"}
{"name":"New Macro","type":"chat","author":"ilYXIh5K2shABVlO","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{},"_id":"caWoyAaTAckFteuK"}
{"_id":"cvDQ1geHtE787cqZ","name":"Defensive Deulist","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/melee/weapons-crossed-swords-yellow-teal.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Defensive Deulist\"\nconst blessIconPath = 'icons/skills/melee/weapons-crossed-swords-yellow-teal.webp';\nconst acBonusValue = \"2\"; // this is your proficiency\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = actor || canvas.tokens.controlled[0] || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\nlet bless = {\n    changes: [\n        {\n            key: \"data.attributes.ac.bonus\",\n            mode: 2,\n            priority: 20,\n            value: acBonusValue,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: effectLabel\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n// If already bless\t\nif (Blessd) {\n    await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id)\n// anounce to chat\n\tchatMsg = `${macroActor.name} loses [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// if not already bless\t\nelse {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\t\n// anounce to chat\n\tchatMsg = `${macroActor.name} gains [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// write to chat if needed:\nif (chatMsg !== '') {\n\tlet chatData = {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Arcane Darts","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/magic/light/orbs-firefly-hand-yellow.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Arcane Darts\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"d5j3SQqyY4CT8QPt"}
{"_id":"fHsX0J5j99tBLZ5r","name":"Add Bolstering Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bolstering Growth\"\nconst blessIconPath = 'icons/environment/wilderness/tree-oak.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"fMV2e6JndqLRCGYP","name":"Add Minor Bleeding","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/wounds/blood-spurt-spray-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Minor Bleeding\"\nconst blessIconPath = 'icons/skills/wounds/blood-spurt-spray-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Aamuel and Hathradieh","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/creatures/unholy/demon-horned-winged-laughing.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Aamuel and Hathradieh\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"fhphLIr50XHxBrXK"}
{"name":"Toll the Dead","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/spell/xge-toll-the-dead.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Toll the Dead\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"gxHXyssn6dkiNpeO"}
{"name":"Imbued Stone From Chris","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/ammunition/shot-round-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Imbued Stone From Chris\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"hxkdHWgLphIBcRyZ"}
{"name":"Bite","type":"script","author":"3NRBPk2mFqZEHybd","img":"modules/lmop-shared/characters/001_-_Wolf/avatar.png","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bite\");","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"ijAJ63Rv5pmaaCVs"}
{"_id":"itVjX0t0RWcPFLyl","name":"Goblin Scimitar","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/swords/sword-katana.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Goblin Scimitar\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"jqGQ9SJuAgXpxCOu","name":"Potion of Healing","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/consumables/potions/potion-tube-corked-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Potion of Healing\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Primal Wellspring","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/magic/nature/tree-spirit-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Primal Wellspring\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"lVN16yW2MgAgQfhJ"}
{"_id":"leEFPNZa2HzyVspK","name":"Add Vulnerable","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/movement/arrow-down-pink.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Vulnerable\"\nconst blessIconPath = 'icons/skills/movement/arrow-down-pink.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `${-(numStacks+1)}`,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"name":"Feast of Blood","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/svg/blood.svg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Feast of Blood\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"me6WqLM213sXKAVk"}
{"name":"Greatclub","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/maces/mace-spiked-steel-grey.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Greatclub\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"mxGKgbDBhkiTilgL"}
{"_id":"oBs9LBSLtLuwSYgG","name":"1d4","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d4","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"oi3mXVGWezy55BYB","name":"Add Doom Mark","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/death/gallows-hanged-humanoid.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Doom Mark\"\nconst blessIconPath = 'icons/magic/death/gallows-hanged-humanoid.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"p5PpGfLVdZsgonm4","name":"Add Inevitable","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/time/hourglass-tilted-glowing-gold.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Inevitable\"\nconst blessIconPath = 'icons/magic/time/hourglass-tilted-glowing-gold.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"pmrJJ1GYJ7d0vlb4","name":"Unarmed Strike (Monk)","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Unarmed Strike (Monk)\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Toll the Dead","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/spell/xge-toll-the-dead.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Toll the Dead\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"q80ow0bsaH2V12RV"}
{"name":"Rend","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/creatures/claws/claw-bear-paw-swipe-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Rend\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"qfYsARJuTtvkAVu9"}
{"name":"Rage","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/creatures/abilities/mouth-teeth-human.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Rage\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"rMqdJa2hULWGHuea"}
{"_id":"s5ibIDezos4EJcTP","name":"Chris Pack Leader Zero","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/creatures/abilities/paw-print-orange.webp","scope":"global","command":"let effectLabel = \"Pack Leader\"\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nif (Blessd)\n{\n   let numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n   let recoveredStamina = Math.min(numStacks, macroActor.data.data.resources.secondary.max - macroActor.data.data.resources.secondary.value)\n   await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id);\n   await macroActor.update({\n      \"data.resources.secondary.value\": macroActor.data.data.resources.secondary.value + recoveredStamina\n   });\n\n   ChatMessage.create({\n       speaker: ChatMessage.getSpeaker(),\n       content: `Used ${numStacks} charges of [Pack Leader] recovering ${recoveredStamina} Stamina.`\n   });\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Notched Dagger","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/daggers/dagger-jeweled-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Notched Dagger\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"sH15fq8cLCkkQBMG"}
{"_id":"tDsIAT030wy1uWjb","name":"1d3","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d3","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"tV367aUfSDTXsSNt","name":"Add Bleed","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/wounds/blood-drip-droplet-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bleed\"\nconst blessIconPath = 'icons/skills/wounds/blood-drip-droplet-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"tc5rroLQaWpjTri7","name":"Second Wind","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/magic/life/heart-glowing-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Second Wind\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"tdV9DIcI12hIBikQ","name":"1d8","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d8","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Goreleech Symbiote","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/environment/creatures/bug-worm-toothed-grey.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Goreleech Symbiote\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"tmA3wywhnKb50vQW"}
{"_id":"uA0nz5hoXts9JQu8","name":"1d6","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll 1d6","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"uPqeXmLWlr2tgPUb","name":"Jagged Shortsword","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/swords/sword-guard-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Jagged Shortsword\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"ugYsDBEsytMqZZKH","name":"Goblin Ambush","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"(async ()=>{\n    console.log(\"starting\");\n    let found = false;\n    let update = [];\n    for(let iToken of canvas.tokens.placeables)\n    {\n        if (!iToken.data)\n        {\n            console.log(\"error: no token.data\");\n            continue;\n        }\n        if (!iToken.data.name)\n        {\n            console.log(\"error: no token.data.name\");\n            continue;\n        }\n        if (iToken.data.name != \"Goblin\")\n        {\n            continue;\n        }\n        if (!iToken.data.hidden)\n        {\n            continue;\n        }\n        console.log(\"token = \" + iToken.data.name);\n        found = true;\n        update.push(iToken);\n    }\n    if (found)\n    {\n        game.togglePause(true, true)\n        canvas.scene.updateEmbeddedDocuments(\"Token\", update.map(t => ({_id: t.id, hidden: false})));\n    }\n    console.log(\"ending\");\n})();","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"yZWKxPoDFZATiOKp","name":"Add Incendiary Curse","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/fire/flame-burning-skull-orange.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Incendiary Curse\"\nconst blessIconPath = 'icons/magic/fire/flame-burning-skull-orange.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"name":"Savage Instincts","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/creatures/mammals/wolf-shadow-black.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Savage Instincts\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"zDF4HxBPYIP4CCbx"}
{"_id":"zIbaVmh4f5eKF4W0","name":"Lycoterror","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/creatures/mammals/wolf-howl-moon-black.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Lycoterror\"\nconst blessIconPath = 'icons/creatures/mammals/wolf-howl-moon-black.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: effectLabel\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n// If already bless\t\nif (Blessd) {\n    await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id)\n// anounce to chat\n\tchatMsg = `${macroActor.name} loses [${effectLabel}].`;\n}\n// if not already bless\t\nelse {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\t\n// anounce to chat\n\tchatMsg = `${macroActor.name} gains [${effectLabel}].`;\n}\n// write to chat if needed:\nif (chatMsg !== '') {\n\tlet chatData = {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n   macroActor.effects.forEach(effect => console.log(effect.data.label));\n}\n\nvar effect = null;\nvar numStacks = 0;\nmacroActor.effects.forEach(effect =>\n//{\n   console.log(effect.data.label)\n/*\n   try\n   {\n      numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0]);\n   }\n   catch (error)\n   {\n      console.log(`${effect.id} not a stackable effect`);\n      continue;\n   }\n   await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id);\n*/\n//}\n);\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n   //macroActor.effects.forEach(effect => console.log(effect.data.label));\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   //{\n      console.log(effect.data.label)\n   /*\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0]);\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`);\n         continue;\n      }\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id);\n   */\n   //}\n   );\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      console.log(effect.data.label)\n   /*\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0]);\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`);\n         continue;\n      }\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id);\n   */\n   }\n   );\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      console.log(effect.data.label)\n   \n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0]);\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`);\n         continue;\n      }\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id);\n   \n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      console.log(effect.data.label)\n   \n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n         continue\n      }\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   \n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      console.log(effect.data.label)\n   /*\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n         continue\n      }\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   */\n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      console.log(effect.data.label)\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n         continue\n      }\n   /*\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   */\n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      console.log(effect.data.label)\n      numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   /*\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n         continue\n      }\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   */\n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      console.log(effect.data.label)\n      numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   /*\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n         continue\n      }\n      await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   */\n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      //console.log(effect.data.label)\n      //numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      //macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   \n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n         continue\n      }\n      macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   \n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      //console.log(effect.data.label)\n      //numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      //macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   \n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n         continue\n      }\n   \n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   macroActor.effects.forEach(effect =>\n   {\n      //console.log(effect.data.label)\n      //numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n      //macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n   \n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n      }\n   });\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n      }\n   });\n   macroActor.update();\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"console.log(\"start\");\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   console.log(\"got a macroActor\");\n\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.id} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}\nconsole.log(\"end\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   await macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Clear Stackable Effects (Copy)","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.7pQhmN42axRtezSy"}},"_id":"5x5cqThO30vI3uhI"}
{"_id":"5x5cqThO30vI3uhI","name":"Double Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.7pQhmN42axRtezSy"}}}
{"_id":"5x5cqThO30vI3uhI","name":"Double Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/death/gallows-hanged-humanoid.webp","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.7pQhmN42axRtezSy"}}}
{"_id":"5x5cqThO30vI3uhI","name":"Double Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/death/gallows-hanged-humanoid.webp","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.updateEmbeddedEntity(\"ActiveEffect\", \n         {\n            _id: effect.id,\n            label: `${effect.data.label} (${numStacks*2})`\n         })\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.7pQhmN42axRtezSy"}}}
{"_id":"5x5cqThO30vI3uhI","name":"Double Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/death/gallows-hanged-humanoid.webp","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         let effectName = effect.data.label.split(' (')[0]\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.updateEmbeddedEntity(\"ActiveEffect\", \n         {\n            _id: effect.id,\n            label: `${effectName} (${numStacks*2})`\n         })\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.7pQhmN42axRtezSy"}}}
{"_id":"2WfvcpZLisA4ArJq","name":"Add Unwilling Goreleech Host","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/creatures/bug-worm-toothed-grey.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Unwilling Goreleech Host\"\nconst blessIconPath = 'icons/environment/creatures/bug-worm-toothed-grey.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"ilYXIh5K2shABVlO":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"4DRMr3X3JjOKm2GF","name":"Add Savage","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/melee/strike-axe-blood-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Savage\"\nconst blessIconPath = 'icons/skills/melee/strike-axe-blood-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n        {\n            key: \"data.bonuses.mwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n        {\n            key: \"data.bonuses.rwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.msak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.rsak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        }\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"RMIWIW22tHZ067ud","name":"Add Eldritch Curse","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/symbols/rune-sigil-black-pink.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Eldritch Curse\"\nconst blessIconPath = 'icons/magic/symbols/rune-sigil-black-pink.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `${-(numStacks+1)}`,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"7CwZD2JYQoRYEwAs","name":"Add Minor Poison","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/toxins/symbol-poison-drop-skull-green.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Minor Poison\"\nconst blessIconPath = 'icons/skills/toxins/symbol-poison-drop-skull-green.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"ilYXIh5K2shABVlO":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"D0fO2nVc4LLJeU5i","name":"Add Child of the Inferno","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/fire/elemental-fire-humanoid.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Child of the Inferno\"\nconst blessIconPath = 'icons/magic/fire/elemental-fire-humanoid.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"YbWY1xY0jRozrkTQ","name":"Add Precision","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/ranged/target-bullseye-arrow-glowing.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Precision\"\nconst blessIconPath = 'icons/skills/ranged/target-bullseye-arrow-glowing.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n        {\n            key: \"data.bonuses.mwak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n        {\n            key: \"data.bonuses.rwak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n\t\t{\n            key: \"data.bonuses.msak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n\t\t{\n            key: \"data.bonuses.rsak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        }\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"YjzPOZu0WVwXGe1e","name":"Add Resistant","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/movement/arrow-upward-blue.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Resistant\"\nconst blessIconPath = 'icons/skills/movement/arrow-upward-blue.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `+${numStacks+1}`,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"fHsX0J5j99tBLZ5r","name":"Add Bolstering Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bolstering Growth\"\nconst blessIconPath = 'icons/environment/wilderness/tree-oak.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"fMV2e6JndqLRCGYP","name":"Add Minor Bleeding","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/wounds/blood-spurt-spray-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Minor Bleeding\"\nconst blessIconPath = 'icons/skills/wounds/blood-spurt-spray-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"tV367aUfSDTXsSNt","name":"Add Bleed","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/wounds/blood-drip-droplet-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bleed\"\nconst blessIconPath = 'icons/skills/wounds/blood-drip-droplet-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"p5PpGfLVdZsgonm4","name":"Add Inevitable","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/time/hourglass-tilted-glowing-gold.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Inevitable\"\nconst blessIconPath = 'icons/magic/time/hourglass-tilted-glowing-gold.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"fHsX0J5j99tBLZ5r","name":"Add Bolstering Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bolstering Growth\"\nconst blessIconPath = 'icons/environment/wilderness/tree-oak.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"lPu8NYjDndzwJQaI":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"fMV2e6JndqLRCGYP","name":"Add Minor Bleeding","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/wounds/blood-spurt-spray-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Minor Bleeding\"\nconst blessIconPath = 'icons/skills/wounds/blood-spurt-spray-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Bolster (Copy)","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bolster\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3,"ODY1ZmU3OWIzNzY2":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"aUgEBBYwasWou3Sv"}
{"$$deleted":true,"_id":"aUgEBBYwasWou3Sv"}
{"name":"Add Bolstering Growth (Copy)","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bolstering Growth\"\nconst blessIconPath = 'icons/environment/wilderness/tree-oak.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"lPu8NYjDndzwJQaI":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}},"_id":"7vLQNmUma7GHxGXa"}
{"_id":"7vLQNmUma7GHxGXa","name":"Add Seed of Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/materials/plant-sprout-seed-brown-green.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Seed of Growth\"\nconst blessIconPath = 'icons/environment/wilderness/tree-oak.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"lPu8NYjDndzwJQaI":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"7vLQNmUma7GHxGXa","name":"Add Seed of Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/materials/plant-sprout-seed-brown-green.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Seed of Growth\"\nconst blessIconPath = 'icons/commodities/materials/plant-sprout-seed-brown-green.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"lPu8NYjDndzwJQaI":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"7vLQNmUma7GHxGXa","name":"Add Seed of Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/materials/plant-sprout-seed-brown-green.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Seed of Growth\"\nconst blessIconPath = 'icons/commodities/materials/plant-sprout-seed-brown-green.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"lPu8NYjDndzwJQaI":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
