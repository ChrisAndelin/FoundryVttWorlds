{"_id":"1lBCEjqPgc6GHaLI","name":"Shield of the Occulstist (Chris)","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/tech/metal-blue.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Shield of the Occultist\"\nconst blessIconPath = 'icons/commodities/tech/metal-blue.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = game.canvas.tokens.placeables.find(t => t.data.name === \"Chris\").actor || actor || game.canvas.tokens.controlled[0].actor || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\n//identify token\nif (macroActor === undefined || macroActor === null)\n{\n  ui.notifications.warn(\"Please select a token first.\");\n}\nelse\n{\n  let itemData = macroActor.items.find(i => i.name===effectLabel);\n  if (itemData.data.data.equipped)\n  {\n    await macroActor.items.getName(effectLabel).update({ \"data.equipped\" : false });\n    // If already bless\n    if (Blessd)\n    {\n      macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id);\n    }\n    // anounce to chat\n    chatMsg = `${macroActor.name} unequips [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n  }\n  else\n  {\n    if (itemData.data.data.uses.value > 0)\n    {\n      let itemUpdate = duplicate(itemData);\n      //itemUpdate.data.uses.value = itemUpdate.data.uses.value - 1;\n      await macroActor.items.getName(effectLabel).update({ \"data.uses.value\" : itemUpdate.data.uses.value, \"data.equipped\" : true });\n      if (!Blessd)\n      {\n          macroActor.createEmbeddedEntity(\"ActiveEffect\",\n          {\n              duration:\n              {\n                  \"seconds\": 6,\n              },\n              icon: blessIconPath,\n              label: effectLabel\n          });\n      }\n      // anounce to chat\n      chatMsg = `${macroActor.name} equips [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n    }\n    else\n    {\n      chatMsg = `${macroActor.name} tried to use [${effectLabel}], but didn't have any charges left.`;\n    }\n  }\n}\n\n// write to chat if needed:\nif (chatMsg !== '')\n{\n\tlet chatData =\n  {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3,"lPu8NYjDndzwJQaI":0},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Sunstone Lure","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/magic/light/explosion-glow-spiral-yellow.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Sunstone Lure\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"2JImlNIyLpeoVyvf"}
{"name":"Bolster","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bolster\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"2V9Y5NWHbVgP0NES"}
{"_id":"2WfvcpZLisA4ArJq","name":"Add Unwilling Goreleech Host","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/creatures/bug-worm-toothed-grey.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Unwilling Goreleech Host\"\nconst blessIconPath = 'icons/environment/creatures/bug-worm-toothed-grey.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"ilYXIh5K2shABVlO":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"name":"Swap","type":"script","author":"IewNY3ebbrSKeWZU","img":"systems/dnd5e/icons/spells/runes-magenta-3.jpg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Swap\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"30kS1XctCzoGn3MU"}
{"_id":"4DRMr3X3JjOKm2GF","name":"Add Savage","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/melee/strike-axe-blood-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Savage\"\nconst blessIconPath = 'icons/skills/melee/strike-axe-blood-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n        {\n            key: \"data.bonuses.mwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n        {\n            key: \"data.bonuses.rwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.msak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.rsak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        }\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"4E6M3EjBDquonDDj","name":"Scimitar","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/swords/sword-katana.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Scimitar\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Bardic Inspiration","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bardic Inspiration\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"4q40XJcsDevvnoDl"}
{"_id":"5x5cqThO30vI3uhI","name":"Double Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/death/gallows-hanged-humanoid.webp","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         let effectName = effect.data.label.split(' (')[0]\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.updateEmbeddedEntity(\"ActiveEffect\", \n         {\n            _id: effect.id,\n            label: `${effectName} (${numStacks*2})`\n         })\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.7pQhmN42axRtezSy"}}}
{"name":"Sacred Flame","type":"script","author":"ilYXIh5K2shABVlO","img":"systems/dnd5e/icons/spells/beam-orange-2.jpg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Sacred Flame\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"6CUcE10wXoAbXW5G"}
{"name":"Heaven's Rest","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/sundries/survival/bedroll-blue-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Heaven's Rest\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"73wqnfZMClL2Jcf3"}
{"_id":"7CwZD2JYQoRYEwAs","name":"Add Minor Poison","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/toxins/symbol-poison-drop-skull-green.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Minor Poison\"\nconst blessIconPath = 'icons/skills/toxins/symbol-poison-drop-skull-green.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"ilYXIh5K2shABVlO":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"name":"Instant Synthesis","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/consumables/potions/bottle-pear-corked-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Instant Synthesis\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"7hM5D99p6pyXO7T9"}
{"name":"Following Fortune's Footsteps","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/skills/movement/feet-winged-boots-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Following Fortune's Footsteps\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"7l9M6usOf023zyQu"}
{"_id":"7pQhmN42axRtezSy","name":"Clear Stackable Effects","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/cancel.svg","scope":"global","command":"let macroActor = canvas.tokens.controlled[0].actor || actor;\nif (macroActor != null)\n{\n   var effect = null;\n   var numStacks = 0;\n   //macroActor.effects.forEach(effect =>\n   for (const effect of macroActor.effects)\n   {\n      try\n      {\n         numStacks = parseInt(effect.data.label.split(' (')[1].split(')')[0])\n         await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id)\n      }\n      catch (error)\n      {\n         console.log(`${effect.data.label} not a stackable effect`)\n      }\n   };\n   macroActor.update();\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"7vLQNmUma7GHxGXa","name":"Add Seed of Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/materials/plant-sprout-seed-brown-green.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Seed of Growth\"\nconst blessIconPath = 'icons/commodities/materials/plant-sprout-seed-brown-green.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"lPu8NYjDndzwJQaI":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"_id":"8UgXHb9ooOjr06B3","name":"turn_defeated_into_loot","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"for (let token of canvas.tokens.controlled) {\n    // Don't run this on PC tokens by mistake\n    if (token.actor.data.type === 'character') continue;\n\n    // Remove items that shouldn't be lootable\n    let itemsToDelete = token.actor.items\n      .filter((item) => {\n        // Weapons are fine, unless they're natural.\n        if (item.type == 'weapon') {\n          return item.data.data.weaponType == 'natural';\n        }\n        // Equipment's fine, unless it's natural armor.\n        if (item.type == 'equipment') {\n          return item.data.data.armor.type == 'natural';\n        }\n        // Item type blocklist.\n        return ['class', 'spell', 'feat'].includes(item.type);\n      })\n      .map((item) => item.id);\n\n    await token.document.actor.deleteEmbeddedDocuments('Item', itemsToDelete);\n\n    // Change sheet to lootable, and give players permissions.\n    let newActorData = {\n      flags: {\n        core: {\n          sheetClass: 'dnd5e.LootSheet5eNPC',\n        },\n        lootsheetnpc5e: {\n          lootsheettype: 'Loot',\n        },\n      },\n    };\n\n    let lootingUsers = game.users\n      // Limit selection to Players and Trusted Players\n      .filter((user) => {\n        return user.role >= 1 && user.role <= 2;\n      });\n\n    // This section is a workaround for the fact that the LootSheetNPC module\n    // currently uses an older currency schema, compared to current 5e expectations.\n    // Need to convert the actor's currency data to the LS schema here to avoid\n    // breakage. If there is already currency on the actor, it is retained.\n\n    if (typeof token.actor.data.data.currency.cp === 'number') {\n      let oldCurrencyData = token.actor.data.data.currency;\n      newActorData['data.currency'] = {\n        cp: { value: oldCurrencyData.cp },\n        ep: { value: oldCurrencyData.ep },\n        gp: { value: oldCurrencyData.gp },\n        pp: { value: oldCurrencyData.pp },\n        sp: { value: oldCurrencyData.sp },\n      };\n    }\n\n    await token.document.actor.update(newActorData);\n\n    // Update permissions to level 2, so players can loot\n    let permissions = {};\n    Object.assign(permissions, token.actor.data.permission);\n    lootingUsers.forEach((user) => {\n      permissions[user.data._id] = 2;\n    });\n\n    // If using Combat Utility Belt, need to remove any of its condition overlays\n    // before we can add the chest icon overlay.\n    // if (game.modules.get('combat-utility-belt')?.active) {\n    //   await game.cub.removeAllConditions(token);\n    // }\n\n    await token.document.update({\n      overlayEffect: 'icons/svg/chest.svg',\n      actorData: {\n        actor: {\n          flags: {\n            loot: {\n              playersPermission: 2,\n            },\n          },\n        },\n        permission: permissions,\n      },\n    });\n  }","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":"cjj7qz3ak356ozx8"}}}
{"name":"Vindication +1[Weapon] +1 [Infusion - Repeating Shot]","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/weapons/guns/gun-pistol-flintlock-metal.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Vindication +1[Weapon] +1 [Infusion - Repeating Shot]\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"8XsO0KpjvMgGwJDG"}
{"name":"Greataxe","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/weapons/axes/axe-double.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Greataxe\");","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"8bnD6B5CEeBhlr8v"}
{"_id":"8jEaPuiGqC80gNeA","name":"Action Surge","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/skills/social/intimidation-impressing.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Action Surge\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Precision","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/skills/melee/blade-tips-double-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Precision\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"AA1PNiYtl24GoRgv"}
{"name":"New Macro","type":"chat","author":"3NRBPk2mFqZEHybd","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{},"_id":"AuQvcuvabTn4r3b8"}
{"name":"Vengeful Meteor","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/commodities/stone/ore-pile-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Vengeful Meteor\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"BPd6L0uWD55K8Cxe"}
{"_id":"BRfia8DSSTXMRoSt","name":"Chris Pack Leader Increment","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/creatures/abilities/paw-print-orange.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Pack Leader\"\nconst blessIconPath = 'icons/creatures/abilities/paw-print-orange.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         speaker: ChatMessage.getSpeaker(),\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"BSUjXhAm5kSuQtuJ","name":"Pause Game","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"game.togglePause(true, true)","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Morningstar","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/maces/mace-round-spiked-black.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Morningstar\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"BsDkD4C5HkHOqEoK"}
{"_id":"CMp839ufud78hW9W","name":"Ominous Moon","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/symbols/chevron-elipse-circle-blue.webp","scope":"global","command":"let actorData = actor || canvas.tokens.controlled[0] || game.user.character;\nconst resources = actorData.data.data.resources.secondary.value;\nconst maxResources = actorData.data.data.resources.secondary.max;\nlet gainedResources = Math.min(1, maxResources - resources);\nawait actorData.update({\"data.resources.secondary.value\": resources + gainedResources});\n\nlet chatContent = ``\nif (gainedResources > 0)\n{\n   chatContent = `Gaining a Stamina for hitting with a melee attack. Thanks [Ominous Moon]!`\n}\nelse\n{\n   chatContent = `[Ominous Moon] Would have gained me a Stamina for hitting with a melee attack, but I'm already at max.`\n}\n\nChatMessage.create({\n    speaker: ChatMessage.getSpeaker(),\n    content: chatContent\n});","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"CrAwGidARgyedCXi","name":"Jagged Shortsword","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/swords/sword-guard-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Jagged Shortsword\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"D0fO2nVc4LLJeU5i","name":"Add Child of the Inferno","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/fire/elemental-fire-humanoid.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Child of the Inferno\"\nconst blessIconPath = 'icons/magic/fire/elemental-fire-humanoid.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"name":"Inspect","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/tools/scribal/lens-grey-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Inspect\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"DwVv30l6ao6C8cZj"}
{"name":"Breath Weapon","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/family-tree.svg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Breath Weapon\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"E2ek4w5y5dSRgoE8"}
{"name":"Sin Eater","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/commodities/gems/gem-rough-cushion-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Sin Eater\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"E3durFDgQBZRWKxA"}
{"name":"Vindication","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/weapons/guns/gun-pistol-flintlock-metal.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Vindication\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"FKneiKoUzP19hmpZ"}
{"_id":"FWAH5SSWJmxYDevH","name":"Fangbone","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/daggers/dagger-simple-stone-guard.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Fangbone\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true},"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Hand of Healing","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/mighty-force.svg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Hand of Healing\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"GQwUEhRBp2OT2bvo"}
{"name":"Age of Fire","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/magic/fire/projectiles-salvo-trio-orange.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Age of Fire\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"GWFsqw93caHrFgbl"}
{"name":"Alpha Ring","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/equipment/finger/ring-eye-silver-green.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Alpha Ring\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"GpkrnwuDDRZj7z0R"}
{"_id":"HDDQfyaB525TLeAn","name":"Hoektato Replenish","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/creatures/abilities/wolf-heads-swirl-purple.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Hoektato\"\nconst blessIconPath = 'icons/creatures/abilities/wolf-heads-swirl-purple.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = game.canvas.tokens.placeables.find(t => t.data.name === \"Chris\").actor || actor || game.canvas.tokens.controlled[0].actor || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\n//identify token\nif (macroActor === undefined || macroActor === null)\n{\n  ui.notifications.warn(\"Please select a token first.\");\n}\nelse\n{\n  let itemData = macroActor.items.find(i => i.name === effectLabel);\n  if (itemData.data.data.uses.value < itemData.data.data.uses.max)\n  {\n    let itemUpdate = duplicate(itemData);\n    itemUpdate.data.uses.value = itemUpdate.data.uses.max;\n    await macroActor.items.getName(effectLabel).update(\n    {\n      \"data.uses.value\": itemUpdate.data.uses.value\n    });\n    // anounce to chat\n    chatMsg = `${macroActor.name} replenishes all uses of [${effectLabel}].`;\n  }\n  else\n  {\n    chatMsg = `${macroActor.name} tried to replenish [${effectLabel}], but it's already maxxed.`;\n  }\n}\n\n// write to chat if needed:\nif (chatMsg !== '')\n{\n  let chatData = {\n    user: game.user._id,\n    speaker: ChatMessage.getSpeaker(),\n    content: chatMsg\n  };\n  ChatMessage.create(chatData,\n  {});\n}","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true},"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Longsword","type":"script","author":"3NRBPk2mFqZEHybd","img":"icons/weapons/swords/greatsword-crossguard-steel.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Longsword\");","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"HhjjQcceS6gdt2fK"}
{"name":"Shield of the Occultist","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/commodities/tech/metal-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Shield of the Occultist\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"HsybcRmEJCGfOb4n"}
{"name":"Atman Totem","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/magic/life/ankh-gold-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Atman Totem\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"IPxMYmTuHpSr2R3p"}
{"_id":"IXFWaV07OLg985FK","name":"Unarmed Strike (Monk)","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Unarmed Strike (Monk)\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Arcane Dart","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/magic/light/orbs-firefly-hand-yellow.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Arcane Dart\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"LHnYGGH67yneikS8"}
{"name":"Ten Teeth Necklace","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/equipment/neck/necklace-runed-white-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Ten Teeth Necklace\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"LqDVECS7DO1vQm9m"}
{"_id":"MTU3YWIxNGEwNWY5","name":"Initiative","permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"type":"chat","sort":0,"flags":{},"scope":"global","command":"Initiative: @{selected|npcd_name}\n/roll 1d20 + @{selected|npcd_dex_mod} &{tracker}","author":"ODY1ZmU3OWIzNzY2","img":"modules/lmop-shared/macros/roll20_macro.png","actorIds":[]}
{"_id":"MzK1KcGC8WNnqoPa","name":"Jagged Shortsword","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/swords/sword-guard-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Jagged Shortsword\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Glowing Branch - Shillelegh","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/weapons/clubs/club-simple-barbed.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Glowing Branch - Shillelegh\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"N1gRKpTHDrhKzWAK"}
{"_id":"OgumrwWLPxn3kk5r","name":"Add Minor Bleed","type":"script","author":"3NRBPk2mFqZEHybd","img":"icons/skills/wounds/blood-spurt-spray-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Minor Bleed\"\nconst blessIconPath = 'icons/skills/wounds/blood-spurt-spray-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3,"3NRBPk2mFqZEHybd":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Staff of Defense","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/staves/staff-ornate-jeweled-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Staff of Defense\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"PlnuWYIU4LPjs3rb"}
{"_id":"RMIWIW22tHZ067ud","name":"Add Eldritch Curse","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/symbols/rune-sigil-black-pink.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Eldritch Curse\"\nconst blessIconPath = 'icons/magic/symbols/rune-sigil-black-pink.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `${-(numStacks+1)}`,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"RfaF4h7vpFiYDFEX","name":"Charging Attack","type":"script","author":"3NRBPk2mFqZEHybd","img":"icons/skills/melee/blade-tip-chipped-blood-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Charging\"\nconst blessIconPath = 'icons/skills/melee/strike-axe-blood-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n        {\n            key: \"data.bonuses.mwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n        {\n            key: \"data.bonuses.rwak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.msak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        },\n\t\t{\n            key: \"data.bonuses.rsak.damage\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*5}`,\n        }\n    ],\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3,"3NRBPk2mFqZEHybd":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"Scy7Of1fQMxf6Vga","name":"Skeletons Appear","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"const update = game.actors.getName(\"Skeleton\").getActiveTokens().map(t => ({_id: t.id, hidden: false}));\ncanvas.scene.updateEmbeddedDocuments(\"Token\", update);","folder":null,"sort":100001,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"T1sgD3b5GZAMRlA4","name":"Shield","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"modules/plutonium/media/icon/spell/phb-shield.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Shield\"\nconst blessIconPath = 'modules/plutonium/media/icon/spell/phb-shield.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = actor || canvas.tokens.controlled[0] || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\nlet bless = {\n    changes: [\n        {\n            key: \"data.attributes.ac.bonus\",\n            mode: 2,\n            priority: 20,\n            value: \"5\",\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: effectLabel\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n// If already bless\t\nif (Blessd) {\n    await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id)\n// anounce to chat\n\tchatMsg = `${macroActor.name} loses [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// if not already bless\t\nelse {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\t\n// anounce to chat\n\tchatMsg = `${macroActor.name} gains [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// write to chat if needed:\nif (chatMsg !== '') {\n\tlet chatData = {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"TkTj0SiNr5ZIYADs","name":"!custom","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"(async ()=>{\n    console.log(\"starting\");\n    let processed = [];\n    for(let iToken of canvas.tokens.placeables)\n    {\n        if (!iToken.data)\n        {\n            console.log(\"error: no token.data\");\n            continue;\n        }\n        if (!iToken.data.name)\n        {\n            console.log(\"error: no token.data.name\");\n            continue;\n        }\n        if (processed.indexOf(iToken.name) >= 0)\n        {\n            console.log(\"skipping \" + iToken.name);\n            continue;\n        }\n        processed.push(iToken.name)\n        console.log(\"token = \" + iToken.data.name);\n        a = game.actors.getName(iToken.name);\n        if (a == null)\n        {\n            console.log(\"no game actor found for \" + iToken.name);\n            continue;\n        }\n        updateTokensForActorByName(iToken.name);\n    }\n    console.log(\"ending\");\n})();\n\nfunction updateTokensForActorByName(actorName)\n{\n    a = game.actors.getName(actorName);\n    const update = a.getActiveTokens().map(t => {\n        if (t.name == a.data.token.name)\n        {\n            result = Object.assign({}, a.data.token);\n            result._id = t.id;\n        }\n        else\n        {\n            result = {_id : t.id};\n        }\n        return result;\n    });\n    canvas.scene.updateEmbeddedDocuments(\"Token\", update);\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"U3zsWYRxQoJJ9ZJk","name":"Unarmed Strike (Monk)","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Unarmed Strike (Monk)\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"V7fKpo8Lvb2vxZnZ","name":"Shield of the Occulstist (old)","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/tech/metal-blue.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Shield of the Occultist\"\nconst blessIconPath = 'icons/commodities/tech/metal-blue.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = actor || game.canvas.tokens.controlled[0].actor ||\n  game.user.character || canvas.tokens.placeables.find(t => t.data.name === \"Chris\");\nlet chatMsg = '';\n//identify token\nif (macroActor === undefined || macroActor === null)\n{\n  ui.notifications.warn(\"Please select a token first.\");\n}\nelse\n{\n  let itemData = macroActor.items.find(i => i.name===effectLabel);\n  if (itemData.data.data.equipped)\n  {\n    await macroActor.items.getName(effectLabel).update({ \"data.equipped\" : false });\n    // anounce to chat\n    chatMsg = `${macroActor.name} gains [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n  }\n  else\n  {\n    if (itemData.data.data.uses.value > 0)\n    {\n      let itemUpdate = duplicate(itemData);\n      itemUpdate.data.uses.value = itemUpdate.data.uses.value - 1;\n      await macroActor.items.getName(effectLabel).update({ \"data.uses.value\" : itemUpdate.data.uses.value, \"data.equipped\" : true });\n      // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n    }\n    else\n    {\n      chatMsg = `${macroActor.name} tried to use [${effectLabel}], but didn't have any charges left.`;\n    }\n  }\n}\n\n// write to chat if needed:\nif (chatMsg !== '')\n{\n\tlet chatData =\n  {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3,"lPu8NYjDndzwJQaI":0},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"WBnjnoYUAf59eDrR","name":"Shield of the Occultist Increment","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/commodities/tech/metal-blue.webp","scope":"global","command":"const featureName = \"Shield of the Occultist\";\nlet actorData = actor || canvas.tokens.controlled[0] || game.user.character;\nlet featData = actorData ? actorData.items.find(i => i.name===featureName) : null;\nlet featUpdate = duplicate(featData);\n\nlet previousValue = featUpdate.data.uses.value\nfeatUpdate.data.uses.value = featUpdate.data.uses.value + 1;\nawait actorData.items.getName(featureName).update({ \"data.uses.value\" : featUpdate.data.uses.value });\n\nChatMessage.create({\n    speaker: ChatMessage.getSpeaker(),\n    content: `[${featureName}] incremented from ${previousValue} to ${featUpdate.data.uses.value}`\n});","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"WPuaCJxpS95Zrl4E","name":"Goblin Scimitar","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/swords/sword-katana.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Goblin Scimitar\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Red Figment","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/magic/symbols/rune-sigil-red-orange.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Red Figment\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"WWJUsWB9ofHR13Gy"}
{"name":"Toggle Convenient Effect - False Life","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"systems/dnd5e/icons/spells/heal-royal-1.jpg","scope":"global","command":"game.dfreds.effectInterface.toggleEffect(\"False Life\")","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{},"_id":"XLaKxOd0uEJWWrFv"}
{"name":"Toggle Convenient Effect - Petrified","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"modules/dfreds-convenient-effects/images/petrified.svg","scope":"global","command":"game.dfreds.effectInterface.toggleEffect(\"Petrified\")","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{},"_id":"Y7UD9LIqNUmdxo1l"}
{"_id":"YbWY1xY0jRozrkTQ","name":"Add Precision","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/ranged/target-bullseye-arrow-glowing.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Precision\"\nconst blessIconPath = 'icons/skills/ranged/target-bullseye-arrow-glowing.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n        {\n            key: \"data.bonuses.mwak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n        {\n            key: \"data.bonuses.rwak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n\t\t{\n            key: \"data.bonuses.msak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        },\n\t\t{\n            key: \"data.bonuses.rsak.attack\",\n            mode: 2,\n            priority: 20,\n            value: `+${(numStacks+1)*2}`,\n        }\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"_id":"YjzPOZu0WVwXGe1e","name":"Add Resistant","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/movement/arrow-upward-blue.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Resistant\"\nconst blessIconPath = 'icons/skills/movement/arrow-upward-blue.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `+${numStacks+1}`,\n        },\n    ],\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"Yl1EFAdYhxZL9rDz","name":"Club","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/clubs/club-simple-barbed.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Club\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Magic Stone","type":"script","author":"Xc6IxhIt83r1NcBy","img":"modules/plutonium/media/icon/spell/xge-magic-stone.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Magic Stone\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"Yq5bWfUhqMCmC6Zs"}
{"_id":"Z1PVcJrfjEqwC5zZ","name":"Remove Top Bar","permission":{"default":0,"ZjdmMWEyMmE2NzVk":3},"type":"script","folder":null,"sort":100000,"flags":{"combat-utility-belt":{"macroTrigger":""}},"scope":"global","command":"(async ()=>{\r\n   console.log(\"starting\");\r\n   for(let token of canvas.tokens.placeables)\r\n   {\r\n      if (!token.data)\r\n      {\r\n         console.log(\"error: no token.data\");\r\n         continue;\r\n      }\r\n      if (!token.data.name)\r\n      {\r\n         console.log(\"error: no token.data.name\");\r\n         continue;\r\n      }\r\n      console.log(\"token = \" + token.data.name);\r\n      await token.update({ 'bar2.attribute' : 'None' });\r\n      await token.update({ 'bar1.attribute' : 'attributes.hp' });\r\n   }\r\n   console.log(\"ending\");\r\n})();\r\n\r\n","author":"ZjdmMWEyMmE2NzVk","img":"icons/svg/dice-target.svg","actorIds":[]}
{"_id":"Zkyhd4OHoorlpqks","name":"Redbrand Trapped Hallway","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"game.togglePause(true, true)\nlet tile = canvas.scene.data.tiles.get(\"ZTE0NDkyNjlmYWQ1\")\ntile.update({\"hidden\" : false})","folder":null,"sort":100001,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"awyvO06VUu1w1dzT","name":"Steps of Fortune","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"/roll nd6 - n*2","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"bi7KKJAoirscxCmv","name":"Fortune's Footsteps","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"var CPSpent = prompt(\"How many CP do you spend\");\n\nvar N = CPSpent/3;\n\nconst roll = Roll.create(`${N}d6`);\n\nroll.roll();\n\nroll.toMessage({\n\nflavor: \"Smooth Operator\",\n\n})","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Lifesplitter","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/creatures/claws/claw-curved-poison-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Lifesplitter\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"cMMSC6KLiWacb6VY"}
{"name":"New Macro","type":"chat","author":"ilYXIh5K2shABVlO","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{},"_id":"caWoyAaTAckFteuK"}
{"_id":"cvDQ1geHtE787cqZ","name":"Defensive Deulist","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/melee/weapons-crossed-swords-yellow-teal.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Defensive Deulist\"\nconst blessIconPath = 'icons/skills/melee/weapons-crossed-swords-yellow-teal.webp';\nconst acBonusValue = \"2\"; // this is your proficiency\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = actor || canvas.tokens.controlled[0] || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\nlet bless = {\n    changes: [\n        {\n            key: \"data.attributes.ac.bonus\",\n            mode: 2,\n            priority: 20,\n            value: acBonusValue,\n        },\n    ],\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: effectLabel\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n// If already bless\t\nif (Blessd) {\n    await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id)\n// anounce to chat\n\tchatMsg = `${macroActor.name} loses [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// if not already bless\t\nelse {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\t\n// anounce to chat\n\tchatMsg = `${macroActor.name} gains [${effectLabel}]. AC is now ${macroActor.data.data.attributes.ac.value}.`;\n}\n// write to chat if needed:\nif (chatMsg !== '') {\n\tlet chatData = {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Arcane Darts","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/magic/light/orbs-firefly-hand-yellow.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Arcane Darts\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"d5j3SQqyY4CT8QPt"}
{"_id":"dmVLgc9NJykWJIdq","name":"Nasty Trick Ring","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/equipment/finger/ring-inlay-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Nasty Trick Ring\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true},"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"f9fo0md3nOs3BUqN","name":"Savage Instincts Increment","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/creatures/mammals/wolf-shadow-black.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Savage Instincts\"\nconst blessIconPath = 'icons/creatures/mammals/wolf-shadow-black.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n  numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n  changes: [\n  {\n    key: \"data.bonuses.mwak.attack\",\n    mode: 2,\n    priority: 20,\n    value: `${numStacks+1}`,\n  },\n  {\n    key: \"data.bonuses.msak.attack\",\n    mode: 2,\n    priority: 20,\n    value: `${numStacks+1}`,\n  },\n  {\n    key: \"data.bonuses.mwak.damage\",\n    mode: 2,\n    priority: 20,\n    value: `${numStacks+1}`,\n  },\n  {\n    key: \"data.bonuses.msak.damage\",\n    mode: 2,\n    priority: 20,\n    value: `${numStacks+1}`,\n  }, ],\n  duration:\n  {\n    \"seconds\": 6,\n  },\n  icon: blessIconPath,\n  label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null)\n{\n  ui.notifications.warn(\"Please select a token first.\");\n}\nelse\n{\n  // If already bless\t\n  if (Blessd)\n  {\n    bless._id = Blessd._id;\n    await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n  }\n  // if not already bless\t\n  else\n  {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n  }\n  // anounce to chat\n  chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n  // write to chat if needed:\n  if (chatMsg !== '')\n  {\n    let chatData = {\n      user: game.user._id,\n      speaker: game.user,\n      content: chatMsg\n    };\n    ChatMessage.create(chatData,\n    {});\n  }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"fHsX0J5j99tBLZ5r","name":"Add Bolstering Growth","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/environment/wilderness/tree-oak.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bolstering Growth\"\nconst blessIconPath = 'icons/environment/wilderness/tree-oak.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"lPu8NYjDndzwJQaI":2},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"name":"Aamuel and Hathradieh","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/creatures/unholy/demon-horned-winged-laughing.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Aamuel and Hathradieh\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"fhphLIr50XHxBrXK"}
{"name":"Longbow","type":"script","author":"3NRBPk2mFqZEHybd","img":"icons/weapons/bows/longbow-leather-green.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Longbow\");","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"g3kQdnxbvwdRd15Z"}
{"name":"Toll the Dead","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/spell/xge-toll-the-dead.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Toll the Dead\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"gxHXyssn6dkiNpeO"}
{"name":"Gibbering","type":"script","author":"3NRBPk2mFqZEHybd","img":"icons/skills/toxins/cup-goblet-poisoned-spilled.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Gibbering\");","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"hVfarzMQIrT5MmrH"}
{"name":"Imbued Stone From Chris","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/ammunition/shot-round-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Imbued Stone From Chris\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"hxkdHWgLphIBcRyZ"}
{"_id":"iLNEKRExVVGYZvOy","name":"Precision (Jon)","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/melee/blade-tips-double-blue.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Precision\"\nconst blessIconPath = 'icons/skills/melee/blade-tips-double-blue.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || game.canvas.tokens.placeables.find(t=>t.name===\"Jon\").actor || game.user.character || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel);\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n}\nelse {\n   // If already bless\n   if (Blessd) {\n     macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id);\n     chatMsg = `${macroActor.name} loses [${effectLabel}].`;\n   }\n   // if not already bless\n   else {\n     // let bless =\n     // {\n      // duration: {\n      //  \"turns\": 1,\n      //  \"seconds\": 6\n      // },\n    //   icon: blessIconPath,\n    //   label: effectLabel\n    // }\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", {\n      changes:\n      [\n        {\n          \"key\": \"data.bonuses.All-Attacks\",\n          \"mode\": 2,\n          \"priority\": 20,\n          \"value\": \"+5\"\n        }\n      ],\n     duration: {\n      \"turns\": 1,\n      \"seconds\": 6\n     },\n     flags: {\n       dae: {\n         specialDuration: [\"1Attack\"]\n       }\n     },\n     icon: blessIconPath,\n     label: effectLabel\n   });\n\n    chatMsg = `${macroActor.name} gains [${effectLabel}].`;\n  }\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n        user: game.user._id,\n        speaker: ChatMessage.getSpeaker(),\n        content: chatMsg,\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Bite","type":"script","author":"3NRBPk2mFqZEHybd","img":"modules/lmop-shared/characters/001_-_Wolf/avatar.png","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bite\");","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"ijAJ63Rv5pmaaCVs"}
{"_id":"ipUesrwwleyO6wdZ","name":"Footsteps of Fortune","type":"chat","author":"IewNY3ebbrSKeWZU","img":"icons/svg/dice-target.svg","scope":"global","command":"var CPSpent = prompt(\"How many CP do you spend\");\nvar N = CPSpent/3;\nconst roll = Roll.create(`${N}d6`);\nroll.roll();\nroll.toMessage({flavor:\"Smooth Operator\",})","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"itVjX0t0RWcPFLyl","name":"Goblin Scimitar","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/swords/sword-katana.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Goblin Scimitar\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Million Sorrows Kick (Unarmed Strike Variant)","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/spear-tips-double-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Million Sorrows Kick (Unarmed Strike Variant)\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"jF8gtl42R1LoWshz"}
{"_id":"jqGQ9SJuAgXpxCOu","name":"Potion of Healing","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/consumables/potions/potion-tube-corked-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Potion of Healing\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Hoektato","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/creatures/abilities/wolf-heads-swirl-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Hoektato\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"jqYmPN2HUcH8VbGW"}
{"name":"Vile Symbol","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/equipment/neck/necklace-hook-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Vile Symbol\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"kz2MUu67RLwCDv24"}
{"name":"Primal Wellspring","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/magic/nature/tree-spirit-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Primal Wellspring\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"lVN16yW2MgAgQfhJ"}
{"_id":"leEFPNZa2HzyVspK","name":"Add Vulnerable","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/movement/arrow-down-pink.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Vulnerable\"\nconst blessIconPath = 'icons/skills/movement/arrow-down-pink.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n   changes: [\n\t\t{\n            key: \"data.bonuses.abilities.save\",\n            mode: 2,\n            priority: 20,\n         value: `${-(numStacks+1)}`,\n        },\n    ],\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"name":"Charge","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/skills/melee/sword-shield-stylized-white.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Charge\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"mCXAuSw0Mfv0Zld8"}
{"name":"Feast of Blood","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/svg/blood.svg","scope":"global","command":"game.dnd5e.rollItemMacro(\"Feast of Blood\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"me6WqLM213sXKAVk"}
{"name":"Greatclub","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/maces/mace-spiked-steel-grey.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Greatclub\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"mxGKgbDBhkiTilgL"}
{"_id":"oi3mXVGWezy55BYB","name":"Add Doom Mark","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/death/gallows-hanged-humanoid.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Doom Mark\"\nconst blessIconPath = 'icons/magic/death/gallows-hanged-humanoid.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"p5PpGfLVdZsgonm4","name":"Add Inevitable","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/time/hourglass-tilted-glowing-gold.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Inevitable\"\nconst blessIconPath = 'icons/magic/time/hourglass-tilted-glowing-gold.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.fMV2e6JndqLRCGYP"}}}
{"name":"Notched Dagger","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/weapons/daggers/dagger-jeweled-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Notched Dagger\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"pJkQ5gn4u3gQ4Lt9"}
{"name":"Blinding Spittle","type":"script","author":"3NRBPk2mFqZEHybd","img":"icons/magic/nature/root-vine-thorned-fire-purple.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Blinding Spittle\");","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"pLzyjZzKSKFv38Ij"}
{"_id":"pmrJJ1GYJ7d0vlb4","name":"Unarmed Strike (Monk)","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/skills/melee/unarmed-punch-fist-blue.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Unarmed Strike (Monk)\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Toll the Dead","type":"script","author":"ilYXIh5K2shABVlO","img":"modules/plutonium/media/icon/spell/xge-toll-the-dead.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Toll the Dead\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"q80ow0bsaH2V12RV"}
{"name":"Rend","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/creatures/claws/claw-bear-paw-swipe-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Rend\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"qfYsARJuTtvkAVu9"}
{"name":"Rage","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/creatures/abilities/mouth-teeth-human.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Rage\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"rMqdJa2hULWGHuea"}
{"_id":"s5ibIDezos4EJcTP","name":"Chris Pack Leader Zero","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/creatures/abilities/paw-print-orange.webp","scope":"global","command":"let effectLabel = \"Pack Leader\"\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nif (Blessd)\n{\n   let numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n   let recoveredStamina = Math.min(numStacks, macroActor.data.data.resources.secondary.max - macroActor.data.data.resources.secondary.value)\n   await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id);\n   await macroActor.update({\n      \"data.resources.secondary.value\": macroActor.data.data.resources.secondary.value + recoveredStamina\n   });\n\n   ChatMessage.create({\n       speaker: ChatMessage.getSpeaker(),\n       content: `Used ${numStacks} charges of [Pack Leader] recovering ${recoveredStamina} Stamina.`\n   });\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3,"Xc6IxhIt83r1NcBy":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Ring of Guidance","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/equipment/finger/ring-cabochon-notched-gold-green.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Ring of Guidance\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"sEM95Gya44ecXG6c"}
{"name":"Survival of the Weak","type":"script","author":"IewNY3ebbrSKeWZU","img":"icons/creatures/magical/humanoid-silhouette-green.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Survival of the Weak\");","folder":null,"sort":0,"permission":{"default":0,"IewNY3ebbrSKeWZU":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"sZdK3vdtdvN8zsSw"}
{"_id":"tV367aUfSDTXsSNt","name":"Add Bleed","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/skills/wounds/blood-drip-droplet-red.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Bleed\"\nconst blessIconPath = 'icons/skills/wounds/blood-drip-droplet-red.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":2,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"_id":"tc5rroLQaWpjTri7","name":"Second Wind","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/magic/life/heart-glowing-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Second Wind\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"name":"Goreleech Symbiote","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/environment/creatures/bug-worm-toothed-grey.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Goreleech Symbiote\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"tmA3wywhnKb50vQW"}
{"_id":"uPqeXmLWlr2tgPUb","name":"Jagged Shortsword","type":"script","author":"ilYXIh5K2shABVlO","img":"icons/weapons/swords/sword-guard-brown.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Jagged Shortsword\");","folder":null,"sort":0,"permission":{"default":0,"ilYXIh5K2shABVlO":3},"flags":{"dnd5e":{"itemMacro":true}}}
{"_id":"ugYsDBEsytMqZZKH","name":"Goblin Ambush","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/svg/dice-target.svg","scope":"global","command":"(async ()=>{\n    console.log(\"starting\");\n    let found = false;\n    let update = [];\n    for(let iToken of canvas.tokens.placeables)\n    {\n        if (!iToken.data)\n        {\n            console.log(\"error: no token.data\");\n            continue;\n        }\n        if (!iToken.data.name)\n        {\n            console.log(\"error: no token.data.name\");\n            continue;\n        }\n        if (iToken.data.name != \"Goblin\")\n        {\n            continue;\n        }\n        if (!iToken.data.hidden)\n        {\n            continue;\n        }\n        console.log(\"token = \" + iToken.data.name);\n        found = true;\n        update.push(iToken);\n    }\n    if (found)\n    {\n        game.togglePause(true, true)\n        canvas.scene.updateEmbeddedDocuments(\"Token\", update.map(t => ({_id: t.id, hidden: false})));\n    }\n    console.log(\"ending\");\n})();","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""}}}
{"name":"Bites","type":"script","author":"3NRBPk2mFqZEHybd","img":"icons/creatures/abilities/mouth-teeth-long-red.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Bites\");","folder":null,"sort":0,"permission":{"default":0,"3NRBPk2mFqZEHybd":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"vCxQnkLzjx8xTDL2"}
{"name":"Green-Flame Blade","type":"script","author":"Xc6IxhIt83r1NcBy","img":"modules/plutonium/media/icon/spell/tce-greenflame-blade.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Green-Flame Blade\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"xT7AMzUoJAEzcpOx"}
{"_id":"yZWKxPoDFZATiOKp","name":"Add Incendiary Curse","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/magic/fire/flame-burning-skull-orange.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Incendiary Curse\"\nconst blessIconPath = 'icons/magic/fire/flame-burning-skull-orange.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label.split(' (')[0] === effectLabel)\nlet numStacks = 0;\nif (Blessd)\n{\n   numStacks = parseInt(Blessd.data.label.split(' (')[1].split(')')[0]);\n}\nlet bless = {\n    duration: {\n        \"rounds\": 10,\n    },\n    icon: blessIconPath,\n    label: `${effectLabel} (${numStacks+1})`\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n   // If already bless\t\n   if (Blessd) {\n      bless._id = Blessd._id;\n       await macroActor.updateEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // if not already bless\t\n   else {\n       await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\n   }\n   // anounce to chat\n      chatMsg = `${macroActor.name} gains [${effectLabel}] (${numStacks+1}).`;\n   // write to chat if needed:\n   if (chatMsg !== '') {\n      let chatData = {\n         user: game.user._id,\n         speaker: game.user,\n         content: chatMsg\n      };\n      ChatMessage.create(chatData, {});\n   }\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
{"name":"Savage Instincts","type":"script","author":"Xc6IxhIt83r1NcBy","img":"icons/creatures/mammals/wolf-shadow-black.webp","scope":"global","command":"game.dnd5e.rollItemMacro(\"Savage Instincts\");","folder":null,"sort":0,"permission":{"default":0,"Xc6IxhIt83r1NcBy":3},"flags":{"dnd5e":{"itemMacro":true}},"_id":"zDF4HxBPYIP4CCbx"}
{"_id":"zIbaVmh4f5eKF4W0","name":"Lycoterror","type":"script","author":"ODY1ZmU3OWIzNzY2","img":"icons/creatures/mammals/wolf-howl-moon-black.webp","scope":"global","command":"// new build for bless macro by Penguin#0949 with help from Kotetsushin#7680\n// version beta 4.2.0\n\n// user notes\n// this macro is inteded for use by the recipient of the bless spell in D&D 5e on Forge VTT\n// N.B. every recipient will need to use this macro independantly on their own Actor/token.\n\n//user modifiable declarations CHANGE AT YOUR OWN RISK\nlet effectLabel = \"Lycoterror\"\nconst blessIconPath = 'icons/creatures/mammals/wolf-howl-moon-black.webp';\n\n//fixed declarations DO NOT MODIFY\nlet macroActor = canvas.tokens.controlled[0].actor || actor || game.user.character;\nlet chatMsg = '';\nlet Blessd = macroActor.effects.find(i => i.data.label === effectLabel)\nlet bless = {\n    duration: {\n        \"turns\": 1,\n    },\n    icon: blessIconPath,\n    label: effectLabel\n}\n//identify token\nif (macroActor === undefined || macroActor === null) {\n  ui.notifications.warn(\"Please select a token first.\");\n} \nelse {\n// If already bless\t\nif (Blessd) {\n    await macroActor.deleteEmbeddedEntity(\"ActiveEffect\", Blessd.id)\n// anounce to chat\n\tchatMsg = `${macroActor.name} loses [${effectLabel}].`;\n}\n// if not already bless\t\nelse {\n    await macroActor.createEmbeddedEntity(\"ActiveEffect\", bless)\t\n// anounce to chat\n\tchatMsg = `${macroActor.name} gains [${effectLabel}].`;\n}\n// write to chat if needed:\nif (chatMsg !== '') {\n\tlet chatData = {\n\t\tuser: game.user._id,\n\t\tspeaker: ChatMessage.getSpeaker(),\n\t\tcontent: chatMsg\n\t};\n\tChatMessage.create(chatData, {});\n}\n}","folder":null,"sort":0,"permission":{"default":0,"ODY1ZmU3OWIzNzY2":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.YjzPOZu0WVwXGe1e"}}}
